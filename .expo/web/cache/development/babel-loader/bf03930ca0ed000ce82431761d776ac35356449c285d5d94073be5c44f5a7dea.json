{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport * as SecureStore from \"expo-secure-store\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\naxios.defaults.baseURL = \"http://127.0.0.1:8000\";\nexport var AuthContext = React.createContext({});\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  return _jsx(AuthContext.Provider, {\n    value: {\n      user: user,\n      setUser: setUser,\n      error: error,\n      login: function login(email, password) {\n        axios.post(\"/api/sanctum/token\", {\n          email: email,\n          password: password,\n          device_name: \"mobile\"\n        }).then(function (response) {\n          console.log(\"gggg sir ggg ********* \");\n          if (response) {\n            var userResponse = {\n              email: response.data.user.email,\n              email_verified: response.data.user.email_verified_at,\n              token: response.data.token,\n              id: response.data.user.id,\n              role: response.data.user.role,\n              category_id: response.data.user.role,\n              name: response.data.user.name,\n              profile: response.data.user.profile_photo_path,\n              phone: response.data.user.ph_no\n            };\n            setUser(userResponse);\n            console.log(\"This is theee User --> \", userResponse);\n            SecureStore.setItemAsync(\"user\", JSON.stringify(userResponse));\n          }\n        }).catch(function (error) {\n          if (error && error.response && error.response.data) {\n            var key = Object.keys(error.response.data.errors)[0];\n            setError(error.response.data.errors[key][0]);\n            console.log(error, response);\n          }\n        });\n      },\n      logout: function logout() {\n        console.log(\"hiii logout functin is called\");\n        setUser(null);\n        SecureStore.deleteItemAsync(\"user\");\n      }\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["React","useState","SecureStore","axios","jsx","_jsx","defaults","baseURL","AuthContext","createContext","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","error","setError","Provider","value","login","email","password","post","device_name","then","response","console","log","userResponse","data","email_verified","email_verified_at","token","id","role","category_id","name","profile","profile_photo_path","phone","ph_no","setItemAsync","JSON","stringify","catch","key","Object","keys","errors","logout","deleteItemAsync"],"sources":["D:/FYP/Projects/App_Projects/React Native Expo Cli Projects/gharbar_app/src/AuthProvider.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport * as SecureStore from \"expo-secure-store\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"http://127.0.0.1:8000\";\n\nexport const AuthContext = React.createContext({});\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState();\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        setUser,\n        error,\n        login: (email, password) => {\n          axios\n            .post(\"/api/sanctum/token\", {\n              email,\n              password,\n              device_name: \"mobile\",\n            })\n            .then((response) => {\n              console.log(\"gggg sir ggg ********* \");\n\n              if (response) {\n                // console.log(\n                //   \"\\n\\nall data from response ********* \\n\",\n                //   response.data\n                // );\n\n                const userResponse = {\n                  email: response.data.user.email,\n                  email_verified: response.data.user.email_verified_at,\n                  token: response.data.token,\n                  id: response.data.user.id,\n                  role: response.data.user.role,\n                  category_id: response.data.user.role,\n                  name: response.data.user.name,\n                  profile: response.data.user.profile_photo_path,\n                  phone: response.data.user.ph_no,\n                };\n                setUser(userResponse);\n                console.log(\"This is theee User --> \", userResponse);\n                SecureStore.setItemAsync(\"user\", JSON.stringify(userResponse));\n              }\n            })\n            .catch((error) => {\n              if (error && error.response && error.response.data) {\n                const key = Object.keys(error.response.data.errors)[0];\n                setError(error.response.data.errors[key][0]);\n                console.log(error, response);\n              }\n            });\n        },\n        logout: () => {\n          console.log(\"hiii logout functin is called\");\n          setUser(null);\n          SecureStore.deleteItemAsync(\"user\");\n        },\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}