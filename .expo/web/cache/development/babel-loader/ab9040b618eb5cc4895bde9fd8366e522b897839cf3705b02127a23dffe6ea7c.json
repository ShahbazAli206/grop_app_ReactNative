{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { AuthContext } from \"./AuthProvider\";\nimport { Authentication } from \"./Authentication\";\nimport Dash_Res from \"./screens/Resident_Screens/Home\";\nimport Dash_Tech from \"./screens/Technician_Screens/Home\";\nimport * as SecureStore from \"expo-secure-store\";\nimport Dash_Admin from \"./screens/Admin_Screens/Home\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Routes() {\n  var _useContext = useContext(AuthContext),\n    user = _useContext.user,\n    setUser = _useContext.setUser,\n    login = _useContext.login,\n    logout = _useContext.logout;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  useEffect(function () {\n    SecureStore.getItemAsync(\"user\").then(function (userString) {\n      if (userString) {\n        console.log(\"####***  securestore  **####\");\n        userObject = JSON.parse(userString);\n        setUser(userObject);\n      }\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  }, []);\n  if (loading) {\n    return _jsx(View, {\n      style: {\n        flex: 1,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundColor: \"blue\"\n      },\n      children: _jsx(ActivityIndicator, {\n        size: \"large\"\n      })\n    });\n  }\n  return _jsx(NavigationContainer, {\n    children: user ? user.role == 1 ? _jsx(Dash_Admin, {}) : user.role == 2 ? _jsx(Dash_Res, {}) : _jsx(Dash_Tech, {}) : _jsx(Authentication, {})\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","useContext","StyleSheet","Text","View","Button","TextInput","ActivityIndicator","AsyncStorage","NavigationContainer","AuthContext","Authentication","Dash_Res","Dash_Tech","SecureStore","Dash_Admin","jsx","_jsx","Routes","_useContext","user","setUser","login","logout","_useState","_useState2","_slicedToArray","loading","setLoading","getItemAsync","then","userString","console","log","userObject","JSON","parse","catch","err","style","flex","alignItems","justifyContent","backgroundColor","children","size","role"],"sources":["D:/FYP/Projects/App_Projects/React Native Expo Cli Projects/gharbar_app/src/Routes.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Button,\n  TextInput,\n  ActivityIndicator,\n  AsyncStorage,\n} from \"react-native\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { AuthContext } from \"./AuthProvider\";\nimport { Authentication } from \"./Authentication\";\nimport Dash_Res from \"./screens/Resident_Screens/Home\";\nimport Dash_Tech from \"./screens/Technician_Screens/Home\";\nimport * as SecureStore from \"expo-secure-store\";\nimport Dash_Admin from \"./screens/Admin_Screens/Home\";\n\nexport default function Routes() {\n  const { user, setUser, login, logout } = useContext(AuthContext);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // check if the user is logged in or not\n    SecureStore.getItemAsync(\"user\")\n      .then((userString) => {\n        if (userString) {\n          // decode it\n          console.log(\"####***  securestore  **####\");\n          // login();\n          userObject = JSON.parse(userString);\n          setUser(userObject);\n        }\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) {\n    return (\n      <View\n        style={{\n          flex: 1,\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          backgroundColor: \"blue\",\n        }}\n      >\n        <ActivityIndicator size=\"large\" />\n      </View>\n    );\n  }\n  return (\n    <NavigationContainer>\n      {user ? (\n        user.role == 1 ? (\n          <Dash_Admin /> // user.role == 2\n        ) : user.role == 2 ? (\n          <Dash_Res /> // user.role == 1\n        ) : (\n          <Dash_Tech />\n        ) // user.role == 3\n      ) : (\n        <Authentication />\n      )}\n    </NavigationContainer>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,iBAAA;AAAA,SAQ7DC,YAAY;AAEd,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,WAAW;AACpB,SAASC,cAAc;AACvB,OAAOC,QAAQ;AACf,OAAOC,SAAS;AAChB,OAAO,KAAKC,WAAW,MAAM,mBAAmB;AAChD,OAAOC,UAAU;AAAqC,SAAAC,GAAA,IAAAC,IAAA;AAEtD,eAAe,SAASC,MAAMA,CAAA,EAAG;EAC/B,IAAAC,WAAA,GAAyClB,UAAU,CAACS,WAAW,CAAC;IAAxDU,IAAI,GAAAD,WAAA,CAAJC,IAAI;IAAEC,OAAO,GAAAF,WAAA,CAAPE,OAAO;IAAEC,KAAK,GAAAH,WAAA,CAALG,KAAK;IAAEC,MAAM,GAAAJ,WAAA,CAANI,MAAM;EACpC,IAAAC,SAAA,GAA8BzB,QAAQ,CAAC,IAAI,CAAC;IAAA0B,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAE1BzB,SAAS,CAAC,YAAM;IAEdc,WAAW,CAACe,YAAY,CAAC,MAAM,CAAC,CAC7BC,IAAI,CAAC,UAACC,UAAU,EAAK;MACpB,IAAIA,UAAU,EAAE;QAEdC,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;QAE3CC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;QACnCV,OAAO,CAACa,UAAU,CAAC;MACrB;MACAN,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACDS,KAAK,CAAC,UAACC,GAAG,EAAK;MACdN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;MAChBV,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,OAAO,EAAE;IACX,OACEV,IAAA,CAACb,IAAI;MACHmC,KAAK,EAAE;QACLC,IAAI,EAAE,CAAC;QACPC,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE,QAAQ;QACxBC,eAAe,EAAE;MACnB,CAAE;MAAAC,QAAA,EAEF3B,IAAA,CAACV,iBAAiB;QAACsC,IAAI,EAAC;MAAO,CAAE;IAAC,CAC9B,CAAC;EAEX;EACA,OACE5B,IAAA,CAACR,mBAAmB;IAAAmC,QAAA,EACjBxB,IAAI,GACHA,IAAI,CAAC0B,IAAI,IAAI,CAAC,GACZ7B,IAAA,CAACF,UAAU,IAAE,CAAC,GACZK,IAAI,CAAC0B,IAAI,IAAI,CAAC,GAChB7B,IAAA,CAACL,QAAQ,IAAE,CAAC,GAEZK,IAAA,CAACJ,SAAS,IAAE,CACb,GAEDI,IAAA,CAACN,cAAc,IAAE;EAClB,CACkB,CAAC;AAE1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}